# 什么是对象存储

{{indexmenu_n>1}}

## 什么是对象存储

对象存储（UFile）是为互联网应用提供非结构化数据存储的服务。相对于传统硬盘存储，对象存储具有存储无上限、支持高并发访问、成本更低等优势。其数据持久性不低于
99.999999999%，服务可用性不低于 99.99%。

您可以使用UFile提供的 API、SDK
接口或者UFile迁移工具轻松地将海量数据移入或移出UFile。数据存储到UFile以后，您可以选择标准存储类型的UFile服务作为移动应用、大型网站、图片分享或热点音视频的主要存储方式；也可以选择成本更低、存储期限更长的低频存储类型和归档存储类型的UFile服务作为不经常访问数据的备份和归档。

## 主要概念

### 单地域空间管理

单地域对象存储服务能够解决业务架构的文件存储问题，为用户上传的数据创建多份副本并实现跨机房存储。

### 存储类型

UFile提供标准、低频、归档三种存储类型，全面覆盖从热到冷的各种数据存储场景。其中标准存储类型提供高可靠、高可用、高性能的对象存储服务，能够支持频繁的数据访问；低频存储类型适合长期保存不经常访问的数据（平均每月访问频率
1 到 2
次），存储单价低于标准类型；归档存储类型适合需要长期保存（建议半年以上）的归档数据，在三种存储类型中单价最低。详情请参见[存储类型介绍]()。

### 对象存储空间（Bucket）

对象存储空间（简称存储空间）是文件的组织管理单位，一个文件必然隶属于某个空间中。空间名称全局唯一，且无法进行修改。
每个账号最多可以创建20个存储空间，存储空间内文件数量无限制。
用户可以将存储空间设置为公开或私有，以控制存储空间内文件的访问权限。

### 对象/文件（Object）

文件是存储空间的逻辑存储单元。对于每个账号，该账号里存放的每个文件都有唯一的一对存储空间（Bucket）与键（Key）作为标识。

### 文件名（Key）

文件名是对应文件的名称，在存储空间中全局唯一，每个文件名在存储空间均标识了一个文件，写入文件时，用户可以自定义文件名。上传同样文件名的文件，会导致原文件名文件被覆盖。
使用者在下载文件时只需要知道下载出口的域名，而无需了解文件具体会被存放到哪个机房的哪个设备，也无需知道具体存放形式。只需在浏览器输入对应的URL访问即可。

### 文件名命名规范

1.使用UTF-8编码

2.长度必须在1-1023字节之间

3.可以“/”字符开头，但不允许出现“{}\^\[\]&lt;&gt;\#\~%”。

### 地域（Region）

地域表示UFile的数据中心所在物理位置。您可以根据费用、请求来源等综合选择数据存储的地域。详情请参见UFile已开通的Region。

### 访问域名（Endpoint）

Endpoint 表示UFile对外服务的访问域名。UFile以HTTP RESTful
API的形式对外提供服务，当访问不同地域的时候，需要不同的域名。通过内网和外网访问同一个地域所需要的域名也是不同的。具体的内容请参见各个Region对应的Endpoint。

### 公开空间

所有文件可通过URL直接访问。

### 私有空间

所有文件须获得拥有者的API密钥授权才能访问。

### API密钥（API Access）

用户在注册UCloud账号后，系统会为用户生成API密钥，用以标识用户。API密钥用于调用API时进行身份验证，防止他人恶意篡改您的请求数据，如密钥泄露，请立即重置，重置成功后需要退出网站再登录。
API密钥包含公钥与私钥两部分。在API请求前，需要先使用公钥和私钥生成签名。
为保障账户安全，请妥善保管私钥，避免外传。

### 全球化空间管理

全球化对象存储服务满足了用户文件就近上传和全球化部署的需求，同时全球化对象存储服务为用户提供多份跨地域副本，实现全球容灾。

## 相关服务

您把数据存储到UFile以后，就可以使用UCloud提供的其他产品和服务对其进行相关操作。以下是您会经常使用到的UCloud产品和服务：

| 产品 | 服务 |
| ---- | ---- |
| 云主机（UHost） | 提供简单高效、处理能力可弹性伸缩的云端计算服务。请参见UHost产品详情页面。 |
| 内容分发网络（UCDN） | 将源站资源缓存到各区域的边缘节点，供您就近快速获取内容。请参见UCDN产品详情页面。 |
| 数据湖分析（USQL） | 构建基于Serverless的大数据分析解决方案，方便您分析和处理自己的数据。请参见USQL产品详情页面。 |
| 媒体处理（UMedia） | 将存储于UFile的音视频转码成适合在 PC、TV 以及移动终端上播放的格式。并基于海量数据深度学习，对音视频的内容、文字、语音、场景多模态分析，实现智能审核、内容理解、智能编辑。请参见媒体处理产品详情页面。 |

## 使用 UFile

UFile提供了Web服务页面，方便您管理UFile。您可以登录UFile管理控制台，操作存储空间和对象。关于管理控制台的操作，请参见控制台用户指南。

UFile也提供了丰富的 API 接口和各种语言的 SDK
包，方便您灵活地管理UFile。请参见UFile API参考和UFile SDK参考。

## UFile 定价

传统的存储服务供应商会要求您购买预定量的存储和网络传输容量，如果超出此容量，就会关闭对应的服务或者收取高昂的超容量费用；如果没有超过此容量，又需要您按照全部容量支付费用。UFile仅按照您的实际使用容量收费，您无需预先购买存储和流量容量，随着您业务的发展，您将享受到更多的基础设施成本优势。

关于UFile的价格，请参见UFile详细价格信息。

## 产品优势

### 海量存储

存储空间无上限，无需考虑存储空间扩容问题，支持小于等于5TB的单文件。适用于音视频、图片分享等UGC类应用海量文件存储。

### 高并发

支持高并发访问，突破传统磁盘I/O限制，满足高访问量及高下载量业务需求。适用于高下载量高访问量应用文件的存储。

### 访问加速

存储文件结合CDN分发加速，国内外500+加速节点，有效降低访问延迟、提升下载速度。提升全网终端用户的访问体验。

### 安全可用

所存文件保存三份副本，分布存储于不同存储集群。即使单份数据损坏也不影响存储文件的可用性，同时保证文件安全。

### 图片处理

用户可以对存储空间内图片文件进行多样化处理，如缩略图，旋转，裁剪，水印等常用功能，一份原图，多种规格，既满足业务多样性，又节约存储空间。

### 更低成本

存储单价低于云硬盘，下载由CDN分发，降低存储及网络成本。按实际使用量计费，不设最低费用，无存储及带宽资源闲置浪费。

### 开发支持

支持API/SDK、命令行工具和控制台等多种访问方式，适合多种语言，与原有业务无缝结合，能够极大缩短开发周期，帮助业务快速上线。

### 支持内/外网访问

用户可以通过UCloud提供的云主机进行内网访问，提供稳定高速的内网上传下载速度。

## 功能概览

使用UFile产品功能之前，请先了解存储空间、对象、地域、访问域名等基本概念，更好理解UFile提供的功能。关于UFile基本概念的含义，请您参见基本概念介绍。

| 功能 | 功能描述 | 参考链接 |
| ---- | -------- | -------- |
| 上传文件 | 上传文件到UFile前，必须先在阿里云的任意一个地域创建一个存储空间。创建存储空间后，您可以上传任意文件到该存储空间。| [普通上传]() <br> [表单上传]() <br> [分片上传]() <br> [秒传文件]() |
| 前缀搜索 | 您可以在存储空间中搜索文件或文件夹。| [前缀搜索]() |
| 查看或下载文件 | 您可以通过文件 URL 查看或者下载文件。| [获取文件访问地址]() |
| 删除文件 | 您可以删除单个或者多个文件，还可以删除分片上传产生的碎片，节省您的存储空间。| [删除文件]() |
| 日志管理 | 您可以开启日志功能自动记录对UFile资源的详细访问信息。 | [设置日志管理]() <br> [日志分析]() |
| 自定义域名 | 您可以将自定义域名绑定到UFile存储空间，然后使用自定义域名访问存储空间中的数据。您还可以启用阿里云CDN服务加速对存储空间中数据的访问。如果您的域名需要通过 HTTPS 的方式访问UFile服务，可以通过UFile托管您的证书。| [绑定自定义域名]() <br> [绑定CDN加速域名]() |
| 镜像回源 | 您可以创建回源规则来定义通过镜像还是重定向获取源数据。回源规则通常用于数据热迁移和重定向特定请求。| [管理镜像回源]() |
| 图片处理 | 您可以对UFile中存储的图片执行不同的操作，例如格式转换、裁剪、缩放、旋转、水印和样式封装。| [图片处理]() |
| 使用工具管理UFile资源 | UFile提供图形化工具、命令行工具、文件挂载工具、FTP工具等方便您管理UFile资源。| [UFile常用工具]() |
| 使用API和SDK管理UFile资源 | UFile提供 RESTful API和各种语言的SDK开发包方便您快速进行二次开发。| [API参考]() <br> [SDK参考]() |

## 使用场景

UFile主要应用于以下场景。

### 图片存储与图片处理

用户可以对存储空间内图片文件进行多样化处理，如缩放、旋转、裁剪、水印等常用功能，一份原图，多种规格，既满足业务多样性，又节约存储空间。

![](images/image1.jpg)

### 视频文件存储

存储空间无上限，无需考虑存储空间扩容问题，支持存储小于等于5TB的单文件。结合UMedia提供视频转码等视频处理功能，以及UCDN加速分发，可以有效降低访问延迟，提升下载速度。提高用户的访问体验。

![](images/image2.jpg)

### 文件备份

所存文件保存三份副本，分布存储于不同存储集群。即使单份数据损坏也不影响存储文件的可用性，同时保证文件安全，为重要数据加上多重保险。

![](images/image3.jpg)

### 全栈式托管

网站管理者可以将网站上的图片、视频等静态资源在云存储上更加直观、方便地进行管理。同时通过接入CDN的方式让网站用户可以实现就近访问，提升用户体验，并且有效降低源站的负载。

![](images/image4.jpg)

### 数据分析

用户上传数据到UFile后，可以搭配数据分析产品，如UHadoop、UAI，如AI训练(UAI-Train)
等，充分发掘数据的价值。

![](images/image5.jpg)

## 使用限制

支持地域

| 地域     | 单地域空间管理 | 全球化空间管理 |
| -------- | -------------- | -------------- |
| 北京     |    支持        |        支持    |
| 上海二   |    支持        |        支持    |
| 广州     |    支持        |        支持    |
| 香港     |    支持        |        不支持  |
| 洛杉矶   |    支持        |        不支持  |
| 新加坡   |    支持        |        不支持  |
| 雅加达   |    支持        |        不支持  |
| 台北     |    支持        |        不支持  |
| 拉各斯   |    支持        |        不支持  |
| 圣保罗   |    支持        |        不支持  |
| 胡志明市 |    支持        |        不支持  |
| 迪拜     |    支持        |        不支持  |

***

| 限制项           | 说明 |
| ---------------- | ------------------------------------------------------------------------ |
| 归档存储类型     |     访问需要解冻，已经存储的数据从冷冻状态恢复到可读取状态需要1分钟时间。|
| 存储空间(bucket) |  同一账号在同一地域内创建的存储空间总数不能超过 20 个。<br> 存储空间一旦创建成功，其名称、所处地域、存储类型不能修改。<br> 单个存储空间的容量不限制。|
|  上传/下载文件   |  通过控制台上传、简单上传、表单上传、追加上传的文件大小不能超过5GB，要上传大小超过 5GB 的文件必须使用分片上传方式 分片方式上传的文件大小不能超过5TB。 同一账号在同一地域内的上传或下载的带宽缺省阈值为：中国大陆地域 10Gbit/s、其他地域 5Gbit/s。如达到该阈值，您会收到 DownloadTrafficRateLimitExceeded 或 UploadTrafficRateLimitExceeded 错误响应。<br> 如您的业务（如大数据离线处理等）有更大的带宽需求，请联系技术支持。<br> UFile支持上传同名文件，但会覆盖已有文件。|
|  删除文件        |   文件删除后无法恢复。<br> 控制台批量删除文件的上限为 1000 个，更大批量的删除必须通过API或SDK实现。|
|  域名绑定        |   中国大陆地域绑定的域名必须在工信部备案，其他地域的域名绑定不需要在工信部备案。<br> 每个存储空间最多可以绑定 100 个域名。|
|  图片处理        |   对于原图：<br>  图片格式只能是：jpg、png、bmp、gif、webp、tiff。<br>  文件大小不能超过 20MB。<br> 使用图片旋转时图片的宽或者高不能超过 4096。<br>  原图单边大小不能超过30,000。<br> 对于缩略后的图：<br> 宽与高的乘积不能超过 4096x4096。<br> 单边长度不能超过 4096。|

## 更新公告

